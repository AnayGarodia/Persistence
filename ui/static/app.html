<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sisyphus - Agent Console</title>
    <link rel="stylesheet" href="common.css" />
    <link rel="stylesheet" href="app.css" />
  </head>
  <body>
    <!-- Navigation -->
    <nav>
      <div class="nav-container">
        <div class="logo">
          <a
            href="index.html"
            style="
              text-decoration: none;
              color: inherit;
              display: flex;
              align-items: center;
              gap: 0.75rem;
            "
          >
            <span style="font-size: 1.5rem">⚡</span>
            <span>Sisyphus</span>
          </a>
        </div>
        <div class="nav-links">
          <a href="index.html">Home</a>
          <div class="status-indicator">
            <span class="status-dot" id="statusDot"></span>
            <span id="statusText">Connecting...</span>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main App Container -->
    <div class="app-container">
      <!-- Left Sidebar: Chat -->
      <div class="app-sidebar">
        <div class="panel-header">
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              d="M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z"
            />
          </svg>
          <span>Task Console</span>
        </div>
        <div class="panel-content" id="chatMessages">
          <div class="welcome-message">
            <div class="welcome-icon">
              <svg
                width="48"
                height="48"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  d="M21 16V8C20.9996 7.64927 20.9071 7.30481 20.7315 7.00116C20.556 6.69751 20.3037 6.44536 20 6.27L13 2.27C12.696 2.09446 12.3511 2.00205 12 2.00205C11.6489 2.00205 11.304 2.09446 11 2.27L4 6.27C3.69626 6.44536 3.44398 6.69751 3.26846 7.00116C3.09294 7.30481 3.00036 7.64927 3 8V16C3.00036 16.3507 3.09294 16.6952 3.26846 16.9988C3.44398 17.3025 3.69626 17.5546 4 17.73L11 21.73C11.304 21.9055 11.6489 21.9979 12 21.9979C12.3511 21.9979 12.696 21.9055 13 21.73L20 17.73C20.3037 17.5546 20.556 17.3025 20.7315 16.9988C20.9071 16.6952 20.9996 16.3507 21 16Z"
                />
              </svg>
            </div>
            <h3>Welcome to Sisyphus</h3>
            <p>
              Describe your task below and watch the agent work in real-time.
            </p>
            <div class="example-tasks">
              <p class="examples-title">Try these examples:</p>
              <div
                class="example-chip"
                onclick="fillTask('Go to google.com and search for Python tutorials')"
              >
                Go to google.com and search for Python tutorials
              </div>
              <div
                class="example-chip"
                onclick="fillTask('Navigate to Wikipedia and find information about AI')"
              >
                Navigate to Wikipedia and find information about AI
              </div>
              <div
                class="example-chip"
                onclick="fillTask('Search for spanish inquisition on youtube')"
              >
                Search for spanish inquisition on youtube
              </div>
            </div>
          </div>
        </div>
        <div class="chat-input-container">
          <div class="chat-input-wrapper">
            <textarea
              id="taskInput"
              placeholder="Describe your task..."
              rows="1"
            ></textarea>
            <button class="send-btn" id="sendBtn" disabled>
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13" />
              </svg>
            </button>
            <button class="stop-btn" id="stopBtn" style="display: none">
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <rect x="6" y="6" width="12" height="12" />
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Center: Browser View -->
      <div class="app-main">
        <div class="panel-header">
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <rect x="3" y="3" width="18" height="18" rx="2" />
            <path d="M3 9H21M9 21V9" />
          </svg>
          <span>Live Browser Feed</span>
          <div class="browser-controls">
            <span class="quality-badge" id="qualityBadge">HD</span>
            <span class="latency-badge" id="latencyBadge">~0ms</span>
          </div>
        </div>
        <div class="browser-viewport">
          <img
            id="browserDisplay"
            style="display: none"
            alt="Browser Display"
          />
          <div class="placeholder" id="placeholder">
            <svg
              width="80"
              height="80"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
            >
              <rect x="3" y="3" width="18" height="18" rx="2" />
              <path d="M3 9H21M9 21V9" />
            </svg>
            <h3>Browser Not Connected</h3>
            <p>Start a task to see the live feed</p>
          </div>
        </div>
      </div>

      <!-- Right Sidebar: Terminal & Commands -->
      <div class="app-info">
        <div class="tabs-header">
          <button class="tab-button active" data-tab="terminal">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <rect x="3" y="4" width="18" height="16" rx="2" />
              <path d="M7 8L10 11L7 14M12 14H17" />
            </svg>
            Terminal
          </button>
          <button class="tab-button" data-tab="commands">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M8 6L2 12L8 18M16 6L22 12L16 18" />
            </svg>
            Commands
          </button>
          <button class="clear-button" id="clearBtn">
            <svg
              width="14"
              height="14"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                d="M3 6H21M19 6V20C19 21 18 22 17 22H7C6 22 5 21 5 20V6M8 6V4C8 3 9 2 10 2H14C15 2 16 3 16 4V6"
              />
            </svg>
          </button>
        </div>
        <div class="tabs-content">
          <div class="tab-pane active" id="terminalTab">
            <div class="terminal" id="terminal">
              <div class="terminal-line">Sisyphus Agent Terminal v1.0</div>
              <div class="terminal-line">Ready to execute tasks...</div>
              <div class="terminal-line">
                WebSocket connection initializing...
              </div>
              <div class="terminal-line">────────────────────────────────</div>
            </div>
          </div>
          <div class="tab-pane" id="commandsTab">
            <div class="commands-panel" id="commandsPanel">
              <div class="empty-state">
                <svg
                  width="48"
                  height="48"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path d="M8 6L2 12L8 18M16 6L22 12L16 18" />
                </svg>
                <p>Commands will appear here as the agent executes</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
